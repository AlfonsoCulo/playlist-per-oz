<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oz</title>
    <style>
        * { box-sizing: border-box; }
        
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #2e1065, #7e22ce, #4c1d95);
            font-family: 'Segoe UI', system-ui, sans-serif;
            color: white;
            overflow: hidden;
        }

        .glass-container {
            width: 1500px;
            max-width: 95%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            padding: 40px;
            box-shadow: 0 40px 60px rgba(0, 0, 0, 0.4);
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .header-section {
    padding-bottom: 25px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.header-content {
    display: flex;
    align-items: center; /* Allinea verticalmente al centro */
    gap: 25px; /* Spazio tra foto e testo */
}

.playlist-img {
    width: 120px;
    height: 120px;
    object-fit: cover;
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    flex-shrink: 0; /* Impedisce alla foto di rimpicciolirsi */
}

.title-group {
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.title-group h1 {
    margin: 0;
    font-weight: 300;
    letter-spacing: 2px;
    font-size: 1.8rem;
    line-height: 1.2;
}

.title-group p {
    margin: 8px 0 0 0;
    color: #d8b4fe;
    font-size: 1rem;
    font-weight: 300;
}

        /* LISTA CANZONI */
        .songs-list {
            max-height: 280px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .songs-list::-webkit-scrollbar { width: 5px; }
        .songs-list::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 10px; }

        .track {
            padding: 12px 25px;
            margin-bottom: 8px;
            border-radius: 40px;
            background: rgba(255, 255, 255, 0.05);
            cursor: pointer;
            transition: 0.3s;
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            border: 1px solid transparent;
        }

        .track:hover { background: rgba(255, 255, 255, 0.12); }
        .track.active { background: rgba(216, 180, 254, 0.2); border-color: rgba(216, 180, 254, 0.4); color: #d8b4fe; }

        /* NUOVO TRACKER PERSONALIZZATO */
        .custom-player {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 30px;
            padding: 20px;
            margin-top: 10px;
        }

        .controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
        }

        .btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            align-items: center;
        }

        .btn:hover { color: #d8b4fe; transform: scale(1.1); }
        .btn-play { font-size: 2.5rem; }

        .progress-container {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.75rem;
            color: rgba(255,255,255,0.6);
        }

        .progress-bar {
            flex-grow: 1;
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            cursor: pointer;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: #d8b4fe;
            border-radius: 10px;
            width: 0%;
            box-shadow: 0 0 10px rgba(216, 180, 254, 0.5);
        }
    </style>
</head>
<body>

<div class="glass-container">
    <div class="header-section">
    <div class="header-content">
        <img src="foto.jpg" id="main-cover" alt="❤️" class="playlist-img">
        
        <div class="title-group">
            <h1 id="playing-title"><b>Oz,</b></h1>
            <p id="now-playing-text">Scegli una canzone...</p>
        </div>
    </div>
</div>

    <div class="songs-list" id="playlist">
       <div class="songs-list">
    <div class="track" onclick="playSong('+1.mp3', this)"><span><b>+1</b> <br> Fulminacci </span></div>
    <div class="track" onclick="playSong('BAILE INOLVIDABLE.mp3', this)"><span><b>BAILE INoLVIDABLE</b> <br> Bad Bunny </span></div>
    <div class="track" onclick="playSong('Believe.mp3', this)"><span><b>Believe</b> <br> Mumford & Sons</span></div>
    <div class="track" onclick="playSong('Can\'t Help Falling in Love.mp3', this)"><span><b>Can't Help Falling in Love</b> <br> Elvis Presley</span></div>
    <div class="track" onclick="playSong('Do I Wanna Know? - Live At The BBC.mp3', this)"><span><b>Do I Wanna Know? - Live At the BBC</b> <br> Hozier </span></div>
    <div class="track" onclick="playSong('Every Breath You Take.mp3', this)"><span><b>Every Breath You Take</b> <br> The Police</span></div>
    <div class="track" onclick="playSong('Futuri Possibili.mp3', this)"><span><b>Futuri Possibili</b> <br> Franco126</span></div>
    <div class="track" onclick="playSong('i saw you in a dream.mp3', this)"><span><b>I Saw You In A Dream</b> <br> The Japanese House</span></div>
    <div class="track" onclick="playSong('IL MONDO FUORI...?.mp3', this)"><span><b>IL MONDO FUORi : .. ?</b> <br> EMMA </span></div>
    <div class="track" onclick="playSong('Julianne.mp3', this)"><span><b>Julianne</b> <br> Paolo Nutini</span></div>
    <div class="track" onclick="playSong('Like Real People Do.mp3', this)"><span><b>Like Real People Do</b> <br> Hozier</span></div>
    <div class="track" onclick="playSong('Lover, You Should\'ve Come Over.mp3', this)"><span><b>Lover, You Should've Come Over</b> <br> Jeff Buckley</span></div>
    <div class="track" onclick="playSong('Luce.mp3', this)"><span><b>:Luce *</b> <br> EMMA</span></div>
    <div class="track" onclick="playSong('No One Noticed.mp3', this)"><span><b>No One Noticed</b> <br> The Marías</span></div>
    <div class="track" onclick="playSong('Palta.mp3', this)"><span><b>Palta</b> <br> montag</span></div>
    <div class="track" onclick="playSong('PICCOLO MONDO.mp3', this)"><span><b>PICCOLO MONDO</b> <br> PSICOLOGI</span></div>
    <div class="track" onclick="playSong('Prima dell\'Alba.mp3', this)"><span><b>Prima dell'Alba</b> <br> Franco126</span></div>
    <div class="track" onclick="playSong('Prima di te.mp3', this)"><span><b>Prima di te</b> <br> Lamante</span></div>
    <div class="track" onclick="playSong('QUANTO TI IMPORTA.mp3', this)"><span><b>QUANTO TI IMPORTA</b> <br> Mecna</span></div>
    <div class="track" onclick="playSong('She\'s Always a Woman.mp3', this)"><span><b>She's Always a Woman</b> <br> Billy Joel</span></div>
    <div class="track" onclick="playSong('Shrike.mp3', this)"><span><b>Shrike</b> <br> Hozier</span></div>
    <div class="track" onclick="playSong('un aggettivo, un verbo, una parola.mp3', this)"><span><b>Un aggettivo, un verbo, una parola</b> <br> Giorgio Poi</span></div>
    <div class="track" onclick="playSong('un\'altra onda.mp3', this)"><span><b>un'altra onda</b> <br> i cani</span></div>
</div>
    </div>

    <div class="custom-player">
        <div class="controls">
            <button class="btn" onclick="prevSong()">⏮</button>
            <button class="btn btn-play" id="play-btn" onclick="togglePlay()">▶</button>
            <button class="btn" onclick="nextSong()">⏭</button>
        </div>
        <div class="progress-container">
            <span id="current-time">0:00</span>
            <div class="progress-bar" onclick="seek(event)">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <span id="duration">0:00</span>
        </div>
    </div>
</div>

<audio id="audio" ontimeupdate="updateProgress()" onended="nextSong()"></audio>

<script>
    const audio = document.getElementById('audio');
    const playBtn = document.getElementById('play-btn');
    const progressFill = document.getElementById('progress-fill');
    const currentTimeEl = document.getElementById('current-time');
    const durationEl = document.getElementById('duration');
    const cover = document.getElementById('main-cover');

    function playSong(fileName, element) {
    const audio = document.getElementById('audio');
    const statusText = document.getElementById('now-playing-text');
    const cover = document.getElementById('main-cover'); // Questo deve corrispondere all'ID sopra

    // 1. Carica e avvia l'audio
    audio.src = encodeURIComponent(fileName);
    audio.play();
    
    // 2. Cambia il tasto in Pausa (se hai il tracker personalizzato)
    const playBtn = document.getElementById('play-btn');
    if(playBtn) playBtn.innerText = "⏸";
    
    // 3. Aggiorna il testo del titolo
    const songTitle = element.querySelector('span').innerText;
    statusText.innerText = "In riproduzione: " + songTitle;
    
    // 4. CAMBIO COPERTINA
    // Prova a caricare la cover specifica (es. Shrike.jpg), se fallisce rimette foto.jpg
    const coverPath = fileName.replace('.mp3', '.jpg');
    cover.src = coverPath;
    cover.onerror = () => { cover.src = 'foto.jpg'; };

    // 5. Aggiunge l'effetto zoom
    cover.classList.add('playing-art');

    // 6. Gestione grafica della lista
    document.querySelectorAll('.track').forEach(t => t.classList.remove('active'));
    element.classList.add('active');
}

    function togglePlay() {
        if (audio.paused) { audio.play(); playBtn.innerText = "⏸"; }
        else { audio.pause(); playBtn.innerText = "▶"; }
    }

    function updateProgress() {
        const { duration, currentTime } = audio;
        const percent = (currentTime / duration) * 100;
        progressFill.style.width = percent + "%";
        
        currentTimeEl.innerText = formatTime(currentTime);
        if (duration) durationEl.innerText = formatTime(duration);
    }

    function formatTime(time) {
        const min = Math.floor(time / 60);
        const sec = Math.floor(time % 60);
        return `${min}:${sec < 10 ? '0' : ''}${sec}`;
    }

    function seek(e) {
        const width = e.target.clientWidth || e.currentTarget.clientWidth;
        const clickX = e.offsetX;
        audio.currentTime = (clickX / width) * audio.duration;
    }

    function nextSong() {
        let active = document.querySelector('.active');
        let next = active ? active.nextElementSibling : document.querySelector('.track');
        if (next) next.click();
    }

    function prevSong() {
        let active = document.querySelector('.active');
        let prev = active ? active.previousElementSibling : null;
        if (prev) prev.click();
    }
</script>

</body>
</html>
